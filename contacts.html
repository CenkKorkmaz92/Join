<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join - Contacts</title>

    <!-- Link Styles -->
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/contacts.css">
    <link rel="stylesheet" href="./shared/navbar.css">
    <link rel="stylesheet" href="./shared/header.css">
</head>

<body>
    <div class="layout">
        <!-- Sidebar (Navbar) -->
        <div id="navbar-container" class="navbar"></div>

        <!-- Header -->
        <div id="header-container" class="top-header"></div>

        <!-- Main Content (Use `.content` class) -->
        <main class="content">
            <!-- Your page-specific content goes here -->
            <div class="contact-body">
                <div class="container">
                        <div class="contact-list-hidden">
                            <button class="add-contact-btn" id="addContactBtn">Add new contact <img
                                src="./assets/img/icons/contact/person_add.svg" alt="" class="img-add-contact"></button>
                        </div>
                        <div id="contactList"></div>
                </div>

                <!-- Popup-Fenster für die Kontakterstellung -->
                <div id="popup" class="popup" style="display: none;">
                    <!-- Wrap everything inside a form -->
                    <form id="contactForm" class="popup-form">
                        <div class="popup-header">
                            <div class="popup-header-main">
                                <div class="popup-header-logo-box">
                                    <img src="/assets/img/icons/contact/contact_logo.svg" alt="">
                                </div>
                                <div class="popup-header-text-box">
                                    <span class="popup-header-text-box-headline">Add contact</span>
                                    <span class="popup-header-text-box-subtext">Tasks are better with a team!</span>
                                </div>
                                <div class="popup-header-separator-box">
                                    <img src="/assets/img/icons/contact/contact_separator.svg" alt="">
                                </div>
                            </div>
                        </div>
                        <div class="popup-content">
                            <div class="pop-up-close-button">
                                <img src="/assets/img/icons/contact/contact_close.svg" alt="" onclick="closeWindow()"
                                    class="pop-up-close-button-img">
                            </div>
                            <div class="popup-overclass">
                                <div class="popup-main-section">
                                    <img src="/assets/img/icons/contact/contact_profile_blanco.svg" alt="">
                                </div>
                                <div class="popup-sub-section">
                                    <div class="popup-input">
                                        <!-- Name: nur Buchstaben (auch Umlaute) und Leerzeichen, maximal 3 Wörter -->
                                        <input type="text" id="nameInput" placeholder="Name" class="popup-input-field" required
                                            pattern="^[A-Za-zÄäÖöÜü]+(?:\s[A-Za-zÄäÖöÜü]+){0,2}$"
                                            oninvalid="this.setCustomValidity('Bitte geben Sie einen Namen ein (maximal drei Wörter, nur Buchstaben und Leerzeichen).')"
                                            oninput="this.setCustomValidity('')">

                                        <!-- E-Mail: Vor dem @ mindestens ein Wort, nach dem @ mindestens ein Wort, ein Punkt folgt, nach dem Punkt mindestens 2 Zeichen -->
                                        <input type="email" id="emailInput" placeholder="E-Mail" class="popup-input-field" required
                                            pattern="^[A-Za-z0-9._-]+@[A-Za-z0-9._-]+\.[A-Za-z]{2,}$"
                                            oninvalid="this.setCustomValidity('Bitte geben Sie eine gültige E-Mail-Adresse ein (z.B. name@domain.de).')"
                                            oninput="this.setCustomValidity('')">

                                        <!-- Telefonnummer: nur Zahlen, Leerzeichen und das +-Symbol; mindestens 6 Zeichen -->
                                        <input type="tel" id="phoneInput" placeholder="Telefonnummer" class="popup-input-field" required
                                            pattern="^[0-9+\s]{6,}$"
                                            oninvalid="this.setCustomValidity('Bitte geben Sie eine gültige Telefonnummer ein (mindestens 6 Zeichen, nur Zahlen, Leerzeichen und + erlaubt).')"
                                            oninput="this.setCustomValidity('')">
                                    </div>
                                    <div class="popup-buttons">
                                        <!-- Cancel button is type="button" so it won’t trigger form submission -->
                                        <button type="button" id="clearBtn" class="popup-button-cancel">
                                            Cancel
                                            <img src="/assets/img/icons/contact/contact_cancel.svg" alt="">
                                        </button>
                                        <!-- Create contact button is now type="submit" -->
                                        <button type="submit" id="saveBtn" class="popup-button-check">
                                            Create contact
                                            <img src="/assets/img/icons/contact/contact_check.svg" alt="">
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="contact-detail" id="contactDetail">
                    <!-- Header bleibt immer sichtbar -->
                    <div class="contact-header">
                        <p class="contact-detail-headline">Contact</p>
                        <img src="./assets/img/icons/contact/separator-contact.svg" alt="">
                        <p class="contact-detail-subheadline">Better with a team</p>
                    </div>

                    <!-- Diese Infos sind anfangs versteckt -->
                    <div class="contact-info hidden" id="detailedContactInfo">
                        <div class="contact-info-section">
                            <div id="contactCircle" class="contact-circle-detail"></div>
                            <div class="contact-personal-info">
                                <p id="contactName" class="contact-detailed-name"></p>
                                <div class="contact-buttons">
                                    <button id="editContactBtn" class="button-edit">
                                        <img src="/assets/img/icons/contact/contact_edit.svg" alt=""
                                            class="icons-contact-detail-edit">
                                        Edit
                                    </button>
                                    <button id="deleteContactBtn" class="button-delete">
                                        <img src="/assets/img/icons/contact/contact_delete.svg" alt=""
                                            class="icons-contact-detail-delete">
                                        Delete
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="contact-details">
                            <p class="contact-details-headline">Contact Information</p>
                            <div class="contact-information-mail">
                                <p class="contact-details-subtitel">Email:</p>
                                <p id="contactEmail">-</p>
                            </div>
                            <div class="contact-information-phone">
                                <p class="contact-details-subtitel">Phone:</p>
                                <p id="contactPhone">-</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="editPopup" class="popup" style="display: none;">
                <div class="popup-header">
                    <div class="popup-header-main">
                        <div class="popup-header-logo-box">
                            <img src="/assets/img/icons/contact/contact_logo.svg" alt="">
                        </div>
                        <div class="popup-header-text-box">
                            <span class="popup-header-text-box-headline">Edit Contact</span>
                            <span class="popup-header-text-box-subtext">Update your contact details</span>
                        </div>
                        <div class="popup-header-separator-box">
                            <img src="/assets/img/icons/contact/contact_separator.svg" alt="">
                        </div>
                    </div>
                </div>
                <div class="popup-content">
                    <div class="pop-up-close-button">
                        <img src="/assets/img/icons/contact/contact_close.svg" alt="" onclick="closeWindow()"
                            class="pop-up-close-button-img">
                    </div>
                    <div class="popup-overclass">
                        <div class="popup-main-section">
                            <div id="selectedContactProfile" class="contact-circle-detail-edit"></div>
                        </div>
                        <div class="popup-sub-section">
                            <div class="popup-input">
                                <input type="text" id="editNameInput" placeholder="Name" class="popup-input-field">
                                <input type="email" id="editEmailInput" placeholder="E-Mail" class="popup-input-field">
                                <input type="tel" id="editPhoneInput" placeholder="Telefonnummer"
                                    class="popup-input-field">
                            </div>
                            <div class="popup-buttons">
                                <button id="deleteBtn" class="popup-button-cancel">
                                    Delete
                                    <img src="/assets/img/icons/contact/contact_cancel.svg" alt="">
                                </button>
                                <button id="saveEditBtn" class="popup-button-check">
                                    Save
                                    <img src="/assets/img/icons/contact/contact_check.svg" alt="">
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div id="popupSuccess" class="popup-success" style="display: none;">
                <div class="popup-content-success">
                    <p>Your contact was created successfully!</p>
                </div>
            </div>

            <!-- Bestätigungs-Popup zum Löschen -->
            <!-- <div id="deleteConfirmationPopup" class="popup" style="display:none;">
                <div class="popup-content">
                    <h3>Kontakt wirklich löschen?</h3>
                    <p>Sind Sie sicher, dass Sie diesen Kontakt löschen möchten?</p>
                    <div class="popup-buttons">
                        <button id="confirmDeleteBtn" class="popup-button-confirm">Löschen</button>
                        <button id="cancelDeleteBtn" class="popup-button-cancel">Abbrechen</button>
                    </div>
                </div>
            </div> -->




    </div>



</body>

</html>


</main>
</div>
<!-- Link Scripts -->
<script src="./shared/includeHTML.js"></script>
<script src="./shared/navbar.js"></script>
<script src="./js/firebase.js"></script>
<script src="./shared/header.js"></script>
<script src="./js/contacts.js"></script>
<script src="./js/contactsSave.js"></script>

</body>

</html>